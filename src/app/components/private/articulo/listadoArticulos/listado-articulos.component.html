<app-navbar></app-navbar>

<div class="container">

    <h3 class="m-3">Todos los Articulos</h3>

    <div class="container pt-5">

        <div class="panel-group">
            <div class="panel panel-default">
                <div class="panel-heading ml-3" id="buscar">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#collapse1" style="text-decoration: none; color: lightslategray; font-size: x-large;">Filtros de búsqueda<img src="../../../../assets/img/filtro.png" width="24px" alt="filtros de búsqueda" class="ml-2"></a>
                    </h4>
                </div>
                <div id="collapse1" class="panel-collapse collapse">
                    <hr>
                    <div class="row">
                        <!-- Checkbox de Ofertas -->
                        <div class="col-6">
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" id="customCheckOfertas" [(ngModel)]="ofertas">
                                <label class="custom-control-label" for="customCheckOfertas">Ofertas</label>
                            </div>
                        </div>
                        <!-- Checkbox de Destacados -->
                        <div class="col-6">
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" id="customCheckDestacados" [(ngModel)]="destacados">
                                <label class="custom-control-label" for="customCheckDestacados">Destacados</label>
                            </div>
                        </div>


                        <div class="col-6">
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" id="customCheckActivo" [(ngModel)]="activo">
                                <label class="custom-control-label" for="customCheckActivo">Activo</label>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <!-- Combo de los Talles -->
                        <div class="col-12 col-md-6">
                            <label style="font-size: x-large;">Talle</label>
                            <ul>
                                <span *ngFor="let talle of talles;"> 
                                    <input type="checkbox" [(ngModel)]="talle.seleccionado" class="ml-2">
                                    {{talle.valor}}
                                </span>
                            </ul>
                        </div>
                        <!-- Combo de los Colores -->
                        <div class="col-12 col-md-6">
                            <label style="font-size: x-large;">Color</label>
                            <ul>
                                <span *ngFor="let color of colores;"> 
                                    <input type="checkbox" [(ngModel)]="color.seleccionado" class="ml-2" >
                                    {{color.valor}}
                                </span>
                            </ul>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <!-- Combo de las Categorias -->
                        <div class="col-12">
                            <label style="font-size: x-large;">Categorías</label>
                            <ul>
                                <span *ngFor="let categoria of categorias;"> 
                                    <input type="checkbox" [(ngModel)]="categoria.seleccionada" class="ml-2" >
                                    {{categoria.nombre}}
                                </span>
                            </ul>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <!-- Selector de Precio Hasta -->
                        <div class="col-6">
                            <label class="pr-2" style="font-size: x-large;">Precio hasta</label>
                            <input type="range" name="rangeInput" min="0" max="10000" step="100" [(ngModel)]="filtroPrecioHasta" onchange="updateTextInput(this.value);">
                            <input type="text" id="filtroPrecio" value="5000" style="width: 50px; border: none;">

                            <!--input type="range" name="ageInputName" id="ageInputId" value="24" min="1" max="100" oninput="ageOutputId.value = ageInputId.value">
                            <output name="ageOutputName" id="ageOutputId">24</output -->
                        </div>
                        <!-- Combo de Ordenar por: -->
                        <div class="col-6">
                            <label style="font-size: x-large;">Ordenar por:</label>
                            <select class="custom-select" (change)="selectOrden($event.target.value)" [(ngModel)]="ordenarPor">
                                <option value="undefined" selected ></option>
                                <option value="0" selected >Menor precio</option>
                                <option value="1" selected >Mayor precio</option>
                            </select>
                        </div>
                    </div>
                    <hr class="m-0 m-md-2">
                </div>
            </div>
            <div class="row d-flex justify-content-center ">
                <div class="mt-3 mb-3 col-6">
                    <button type="button" (click)="buscar(true)" class="cart_button"><span class="fa fa-search mr-2"></span> Buscar </button>
                </div>
            </div>
        </div>
    </div>

    <table class="table table-sm-responsive">
        <thead>
            <tr>
                <th scope="col" class="">ID</th>
                <th scope="col" class="align-right">Nombre</th>
                <th scope="col" class="align-right">Precio</th>
                <th scope="col" class="align-right">En oferta</th>
                <th scope="col" class="align-right">Peso</th>
                <th scope="col" class="align-right">Activo</th>
                <th scope="col" class="align-right">Destacado</th>
                <th scope="col" class="align-right">Marca</th>
                <th scope="col" class="align-right">Descripcion</th>
                <th scope="col" class="align-right">Categoria</th>
                <th scope="col"></th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let articulo of articulos">
                <td class="align-right">{{articulo.id}}</td>
                <td class="align-right">{{articulo.nombre}}</td>
                <td class="align-right">${{articulo.precioVenta}}</td>
                <td class="align-right">{{articulo.enOferta}}</td>
                <td class="align-right">{{articulo.peso}}</td>
                <td class="align-right">{{articulo.activo ? 'Si':'No'}}</td>
                <td class="align-right">{{articulo.destacado}}</td>
                <td class="align-right">{{articulo.descuento}}</td>
                <td class="align-right">{{articulo.descripcion}}</td>
                <td class="align-right">{{articulo.marca}}</td>
                <td class="align-right">{{articulo.categoria}}</td>

                <!--td class="align-center"><button class="cart_button btn-sm" [routerLink]="['/detalle-compra', index]"><span class="fa fa-shopping-bag mr-2"></span>Ver detalle</button></td-->
            </tr>
        </tbody>
        <!--pagination-controls *ngIf="listaCompras.length > 5" previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="p = $event"></pagination-controls-->
    </table>

</div>